import numpy as np

VACCINE_COVERAGE_OVER_TIME = [
    # week, value (%)
    [49, 1.07],  # 31-Jan-21
    [53, 6.9],  # 28-Feb-21
    [57, 14.97],  # 28-Mar-21
    [61, 27.78],  # 25-Apr-21
    [65, 38.95],  # 23-May-21
    [69, 45.23],  # 20-Jun-21
    [73, 48.95],  # 18-Jul-21
    [77, 51.04],  # 15-Aug-21
    [81, 54.05],  # 12-Sep-21
    [85, 56.73],  # 10-Oct-21
    [89, 64.13],  # 7-Nov-21
    [93, 65.74, 52.12, 86.55],  # 5-Dec-21
]

VACCINE_COVERAGE_BY_AGE = [
    # week, value
    [   # 0-4
        [49, 0],  # 31-Jan-21
        [53, 0],  # 28-Feb-21
        [57, 0],  # 28-Mar-21
        [61, 0],  # 25-Apr-21
        [65, 0],  # 23-May-21
        [69, 0],  # 20-Jun-21
        [73, 0],  # 18-Jul-21
        [77, 0],  # 15-Aug-21
        [81, 0],  # 12-Sep-21
        [85, 0],  # 10-Oct-21
        [89, 0],  # 7-Nov-21
        [93, 0],  # 5-Dec-21
    ],
    [   # 5-12
        [49, 0],  # 31-Jan-21
        [53, 0.01],  # 28-Feb-21
        [57, 0.01],  # 28-Mar-21
        [61, 0.01],  # 25-Apr-21
        [65, 0.02],  # 23-May-21
        [69, 0.34],  # 20-Jun-21
        [73, 0.44],  # 18-Jul-21
        [77, 0.45],  # 15-Aug-21
        [81, 0.45],  # 12-Sep-21
        [85, 0.45],  # 10-Oct-21
        [89, 0.46],  # 7-Nov-21
        [93, 4.63],  # 5-Dec-21
    ],
    [   # 13-17
        [49, 0.02],  # 31-Jan-21
        [53, 0.13],  # 28-Feb-21
        [57, 0.36],  # 28-Mar-21
        [61, 2.09],  # 25-Apr-21
        [65, 9.14],  # 23-May-21
        [69, 26.34],  # 20-Jun-21
        [73, 34.16],  # 18-Jul-21
        [77, 39.98],  # 15-Aug-21
        [81, 48.54],  # 12-Sep-21
        [85, 53.62],  # 10-Oct-21
        [89, 56.01],  # 7-Nov-21
        [93, 57.52],  # 5-Dec-21
    ],
    [   # 18-29
        [49, 1.53],  # 31-Jan-21
        [53, 5.39],  # 28-Feb-21
        [57, 9.34],  # 28-Mar-21
        [61, 21.65],  # 25-Apr-21
        [65, 38.53],  # 23-May-21
        [69, 46.26],  # 20-Jun-21
        [73, 49.93],  # 18-Jul-21
        [77, 52.94],  # 15-Aug-21
        [81, 57.25],  # 12-Sep-21
        [85, 61.25],  # 10-Oct-21
        [89, 63.61],  # 7-Nov-21
        [93, 65.21],  # 5-Dec-21
    ],
    [   # 30-49
        [49, 2.63],  # 31-Jan-21
        [53, 8.51],  # 28-Feb-21
        [57, 14.58],  # 28-Mar-21
        [61, 30.79],  # 25-Apr-21
        [65, 47.83],  # 23-May-21
        [69, 54.87],  # 20-Jun-21
        [73, 57.99],  # 18-Jul-21
        [77, 60.55],  # 15-Aug-21
        [81, 64.7],  # 12-Sep-21
        [85, 68.41],  # 10-Oct-21
        [89, 70.66],  # 7-Nov-21
        [93, 72.26],  # 5-Dec-21
    ],
    [  # 50-64
        [49, 2.56],  # 31-Jan-21
        [53, 9.88],  # 28-Feb-21
        [57, 20.31],  # 28-Mar-21
        [61, 47.94],  # 25-Apr-21
        [65, 64.78],  # 23-May-21
        [69, 70.6],  # 20-Jun-21
        [73, 73.02],  # 18-Jul-21
        [77, 75.09],  # 15-Aug-21
        [81, 78.22],  # 12-Sep-21
        [85, 80.69],  # 10-Oct-21
        [89, 82.29],  # 7-Nov-21
        [93, 83.57],  # 5-Dec-21
    ],
    [  # 65-75
        [49, 1.68],  # 31-Jan-21
        [53, 21.22],  # 28-Feb-21
        [57, 53.66],  # 28-Mar-21
        [61, 76.76],  # 25-Apr-21
        [65, 83.93],  # 23-May-21
        [69, 86.92],  # 20-Jun-21
        [73, 88.27],  # 18-Jul-21
        [77, 89.45],  # 15-Aug-21
        [81, 91.22],  # 12-Sep-21
        [85, 92.83],  # 10-Oct-21
        [89, 94.32],  # 7-Nov-21
        [93, 95.42],  # 5-Dec-21
    ],
    [   # 75+
        [49, 1.94],  # 31-Jan-21
        [53, 32.8],  # 28-Feb-21
        [57, 60.95],  # 28-Mar-21
        [61, 75.76],  # 25-Apr-21
        [65, 80.63],  # 23-May-21
        [69, 82.75],  # 20-Jun-21
        [73, 83.7],  # 18-Jul-21
        [77, 84.51],  # 15-Aug-21
        [81, 85.72],  # 12-Sep-21
        [85, 86.91],  # 10-Oct-21
        [89, 88.24],  # 7-Nov-21
        [93, 89.24],  # 5-Dec-21
    ]
]


# ranges on weekly hospitalization rates
# by the end of the feasibility period
UP_FACTOR = 1.25
DOWN_FACTOR = 0.75
MAX_HOSP_RATE_OVERALL = 51.2 * UP_FACTOR  # per 100,000 population
MIN_HOSP_RATE_OVERALL = 8.9 * DOWN_FACTOR  # per 100,000 population

# these two are not currently being used
MAX_HOSP_RATE_BY_AGE = np.array([24.3, 9.0, 10.9, 14.1, 41.2, 66.3, 124.6, 318.0])*UP_FACTOR
MIN_HOSP_RATE_BY_AGE = [0]*8  # np.array([2, 0.9, 1.7, 2.8, 5.7, 11.1, 24.7, 71.5]) * DOWN_FACTOR

# ranges of weekly hospital occupancy
MAX_HOSP_OCC_RATE = 61.1
MIN_HOSP_OCC_RATE = 1.1

CUM_HOSP_RATE_OVERALL = [[92, 768, 301.7, 1050.3]]  # Overall
CUM_HOSP_RATE_BY_AGE = [
    # week, value, minimum, maximum
    [[92, 100.2, 50.6, 161.2]],  # 0-4
    [[92, 33.7, 17.4, 46.6]],  # 5-12
    [[92, 81.4, 43.5, 129.7]],  # 12-17
    [[92, 298.8, 85, 508]],  # 18-29
    [[92, 601.5, 179.3, 897]],  # 30-49
    [[92, 1124.2, 449, 1490.7]],  # 50-64
    [[92, 1590.9, 750.1, 2356.8]],  # 65-74
    [[92, 2973.2, 1553.9, 4313.6]],  # 75+
]

MAX_PREV_IMMUNE_FROM_INF = 35
PREV_IMMUNE_FROM_INF = [
    # [24, 5.9, 5.5, 6.3],
    # [32, 6.8, 6.5, 7.2],
    # [42, 11.5, 11.1, 11.8],
    # [50, 20, 19.5, 20.5],
    # [58, 21.8, 21.2, 22.2],
    # [66, 21.6, 21.2, 22.2],
    [74, 20.6, 1.6, 34.1]
]

# age distribution of hospitalization (%)
HOSP_AGE_DIST = [
    # week, value, minimum, maximum
    [[92, 0.8]],  # 0-4
    [[92, 0.4]],  # 5-12
    [[92, 0.7]],  # 12-17
    [[92, 6.2]],  # 18-29
    [[92, 19.6]],  # 30-49
    [[92, 27.3]],  # 50-64
    [[92, 19.3]],  # 65-74
    [[92, 25.9]],  # 75+
]

PERC_INF_WITH_NOVEL = [
    [59, 0.1, 0, 0.3],
    [61, 0.6, 0.3, 1.2],
    [63, 1.4, 0.8, 2.4],
    [65, 2.4, 1.2, 7.5],
    [67, 3.8, 2.1, 13.9],
    [69, 7, 2.3, 23.6],
    [71, 14.1, 5.1, 44.7],
    [73, 26.1, 4.9, 70.6],
    [75, 37.2, 16.3, 77.7],
    [77, 53.6, 28.1, 87.8],
    [79, 69.4, 51.9, 93],
    [81, 82.2, 70.9, 95.9],
    [83, 87.6, 82.6, 95.9],
    [85, 94.4, 93.1, 97],
    [87, 96.8, 93.8, 99],
    [89, 97.9, 96.4, 99.6],
    [91, 98.8, 97.7, 99.8],
]
